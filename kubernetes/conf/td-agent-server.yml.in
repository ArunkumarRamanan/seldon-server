apiVersion: v1
kind: Pod
metadata:
  name: td-agent-server
  labels:
    name: td-agent-server
spec:
  containers:
    - name: td-agent-server
      image: seldonio/td-agent-server:1.0
      ports:
        - containerPort: 24224
      volumeMounts:
        - name: logs
          mountPath: /home/seldon-data
  volumes:
    - hostPath:
        path: $(DATA_PATH)
      name: logs
---
apiVersion: v1
kind: Service
metadata:
  name: td-agent-server
  labels:
    name: td-agent-server
spec:
  type: ClusterIP
  ports:
    - port: 24224
      name: tcpport
      protocol: TCP
    - port: 24224
      name: udpport
      protocol: UDP
  selector:
    name: td-agent-server
